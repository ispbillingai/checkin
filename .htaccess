
# Enable rewriting
RewriteEngine On

# Set the base
RewriteBase /

# Don't apply to existing files or directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# For specific routes, handle them explicitly
RewriteRule ^booking$ /src/pages/BookingForm.html [L]
RewriteRule ^admin$ /admin-dashboard.html [L]

# Important: For root URL, serve main.html directly
RewriteRule ^$ /src/main.html [L]

# For all other non-file/directory requests, show NotFound page
RewriteRule ^(.*)$ /src/pages/NotFound.html [L]

# Enable detailed error logging
php_flag display_errors on
php_value error_reporting E_ALL

# Set custom error pages
ErrorDocument 404 /src/pages/NotFound.html
ErrorDocument 500 /src/pages/error.html

# Enable CORS if needed
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
</IfModule>

# Add debugging for redirect loops
<IfModule mod_rewrite.c>
    # Set environment variable to log rewrite info
    LogLevel alert rewrite:trace3
</IfModule>
